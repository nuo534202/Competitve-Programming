# ​The 2024 Shanghai Collegiate Programming Contest

VP 链接：[2024 SHCPC](https://codeforces.com/gym/105229)

## A. 无线网络整点栅格统计
枚举每一个矩形一个对角线上的两个顶点，再依据这两个点计算出另外两个顶点，然后判断是否合法。

时间复杂度： $O(n^2m^2)$。

## D. 咸鱼跑酷
- 如果两个都为加或都为乘，则选择数字较大的那一个。
- 如果 $u$ 已经大于 $10^9$ 且乘的数大于 $1$，那么选择乘。

当 $u$ 小于等于 $10^9$ 时，暴力进行选择判断。

当 $u$ 大于 $10^9$ 时，利用线段树查询后面需要乘和加的数的大小。

时间复杂度： $O(n\log n + q(\log 10^9 + \log n))$，暴力操作时每一次至少变为原来的两倍，每一次操作的复杂度为 $O(\log 10^9)$。

## E. 无线软件日
签到题。

记录所有字母数量，为了方便，可以将所有大写字母转换为小写字母。答案为字母 $s$, $n$, $g$, $i$ 的数量和字母 $a$, $h$ 的数量的一半中的最小值。

时间复杂度： $O(n)$。

## G. 象棋大师
状压 DP。将马状态（是否存活， $1$ 存活， $0$ 被吃）转换成一个对应的二进制数。

首先预处理 $ok_{i, j, k}$ 表示马的状态为 $k$ 的时候， $(i，j)$ 是否安全。

设 $dp_{i, j, k}$ 表示马的状态为 $k$ 时，走到 $(i，j)$ 的方案数。 $dp$ 的转移方程看代码。

时间复杂度： $O(n^22^m)$。

## J. 极简合数序列
枚举区间左端点 $l$，再枚举右端点 $r$，依次判断区间和是否为合数。

最坏时间复杂度 $O(n^2\sqrt{n})$ ，但实际上区间长度非常小，所以时间复杂度接近 $O(n\sqrt{n})$。

## K. 时光
折半搜索。

对于最终选定的若干个使命，按照 $b$ 的大小，从大到小完成一定是最优的顺序，所以可以按照 $b$ 从大到小排序，这样确定选择方案后，顺序就是最优顺序。

首先利用搜索，从后往前预处理出后面一半使命的完成情况，并按照选择的使命格数进行分类放入 $half = \frac{n}{2}$ 个数据结构中。接着，再对每一个数据结构中的使命按照消耗的时光从小到大进行排序，并处理出每一个数据结构的每一段前缀的最大值。后面查询的时候可以直接进行二分查找。

对于前面一半的使命，直接枚举子集，用一个二进制数表示每一个使命选择与否，记录出消耗时光和获得的回忆，再去预处理出的数据结构中二分查找出剩余的时光能获得的使命的最大值。两者组合就是最终结果。

时间复杂度： $O(2^{\frac{n}{2}} + kn\log k + 2^{\frac{n}{2}}n\log k)$， $k$ 为储存后半使命完成情况的数据结构大小， $k$ 满足 $k \le C_{15}^7 = 6435$。

## M. 不共戴天
构造题。

将每一片荷叶按照编号尽量排成一个正方形，让咪蛤横着走，让小夜鹭竖着走。这种策略保证了两种动物不会相遇且策略数量最大，因为两者策略数量最接近，不会有一种远远多于另一种。

时间复杂度： $O(n)$。
